[2024-11-15 17:09:56] Received payment request
Data: Array
(
)

[2024-11-15 17:09:56] Decoded input
Data: Array
(
    [amount] => 100
    [itemId] => 4
    [quantity] => 1
)

[2024-11-15 17:09:56] Validated input values
Data: Array
(
    [amount] => 100
    [quantity] => 1
    [itemId] => 4
)

[2024-11-15 17:09:56] Retrieved item from database
Data: Array
(
    [name] => Tablet
    [stock_quantity] => 98
)

[2024-11-15 17:09:56] PayMongo request payload
Data: Array
(
    [data] => Array
        (
            [attributes] => Array
                (
                    [line_items] => Array
                        (
                            [0] => Array
                                (
                                    [name] => Tablet
                                    [quantity] => 1
                                    [amount] => 10000
                                    [currency] => PHP
                                )

                        )

                    [payment_method_types] => Array
                        (
                            [0] => gcash
                            [1] => grab_pay
                            [2] => card
                        )

                    [success_url] => https://f100-222-127-73-6.ngrok-free.app/payment/success.php
                    [cancel_url] => https://f100-222-127-73-6.ngrok-free.app/payment/error.php
                )

        )

)

[2024-11-15 17:09:57] PayMongo API response
Data: Array
(
    [status_code] => 200
    [response] => {"data":{"id":"cs_nhoK4f9m9f7bA2XhSUnTTLiv","type":"checkout_session","attributes":{"billing":{"address":{"city":null,"country":null,"line1":null,"line2":null,"postal_code":null,"state":null},"email":null,"name":null,"phone":null},"billing_information_fields_editable":"enabled","cancel_url":"https://f100-222-127-73-6.ngrok-free.app/payment/error.php","checkout_url":"https://checkout.paymongo.com/cs_nhoK4f9m9f7bA2XhSUnTTLiv_client_L2acau5xyqinnQEZjNcndzis#cGtfdGVzdF9kVmg2TnQ2UVJjTjhkaTZ0akNLbXluTFE=","client_key":"cs_nhoK4f9m9f7bA2XhSUnTTLiv_client_L2acau5xyqinnQEZjNcndzis","customer_email":null,"description":null,"line_items":[{"amount":10000,"currency":"PHP","description":null,"images":[],"name":"Tablet","quantity":1}],"livemode":false,"merchant":"Kachar","payments":[],"payment_intent":{"id":"pi_jKkRTGdXipHqY8dpGAfkBRND","type":"payment_intent","attributes":{"amount":10000,"capture_type":"automatic","client_key":"pi_jKkRTGdXipHqY8dpGAfkBRND_client_CjQQnwjEBnx8pFD37f12E4JU","currency":"PHP","description":null,"livemode":false,"original_amount":10000,"statement_descriptor":"Kachar","status":"awaiting_payment_method","last_payment_error":null,"payment_method_allowed":["gcash","grab_pay","card"],"payments":[],"next_action":null,"payment_method_options":{"card":{"request_three_d_secure":"any"}},"metadata":null,"setup_future_usage":null,"created_at":1731686997,"updated_at":1731686997}},"payment_method_types":["card","gcash","grab_pay"],"reference_number":null,"send_email_receipt":false,"show_description":false,"show_line_items":true,"status":"active","success_url":"https://f100-222-127-73-6.ngrok-free.app/payment/success.php","created_at":1731686997,"updated_at":1731686997,"metadata":null}}}
    [curl_error] => 
)

[2024-11-15 17:09:57] Payment session created successfully
Data: Array
(
    [checkout_url] => https://checkout.paymongo.com/cs_nhoK4f9m9f7bA2XhSUnTTLiv_client_L2acau5xyqinnQEZjNcndzis#cGtfdGVzdF9kVmg2TnQ2UVJjTjhkaTZ0akNLbXluTFE=
)

[2024-11-15 17:09:57] Inventory quantity updated successfully
Data: Array
(
    [itemId] => 4
    [quantity_subtracted] => 1
)

